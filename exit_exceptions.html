<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at Sep 10, 2013
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20130910" />
    <meta http-equiv="Content-Language" content="en" />
    <title>hyphenType - </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarEnabled">
          
    
    
            
    
        
    <a href="http://github.com/aamm/hyphenType/">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
                

    <div id="topbar" class="navbar navbar-fixed-top navbar-inverse">
      <div class="navbar-inner">
                <div class="container-fluid">
        <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
                
                                                                                <a class="brand" href="index.html"  title="hyphenType">

                                
                                                                                                                    <img src="images/hyphenType_logo_small.png" alt="hyphenType" />
                
                </a>
                    
                                <ul class="nav">
                          <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Overview <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="index.html"  title="About / Getting started">About / Getting started</a>
</li>
                  
                      <li>      <a href="download_build.html"  title="Download / Build">Download / Build</a>
</li>
                  
                      <li class="dropdown-submenu">
                                      <a href="basics.html"  title="Basics">Basics</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="options_interfaces.html"  title="Options Interfaces">Options Interfaces</a>
</li>
                                  <li>      <a href="anatomy_main_class.html"  title="Anatomy of a Main Class">Anatomy of a Main Class</a>
</li>
                                  <li>      <a href="using_doc_formatters.html"  title="Using Dcumentation Formatters">Using Dcumentation Formatters</a>
</li>
                                  <li>      <a href="resource_bundles.html"  title="Configuration from resource bundles">Configuration from resource bundles</a>
</li>
                                  <li>      <a href="validators.html"  title="Validators">Validators</a>
</li>
                                  <li>      <a href="exit.html"  title="Exit Status Codes">Exit Status Codes</a>
</li>
                                  <li>      <a href="unit_testing.html"  title="Unit Testing">Unit Testing</a>
</li>
                                  <li>      <a href="debugging.html"  title="Debugging">Debugging</a>
</li>
                              </ul>
            </li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Advanced topics <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="creating_documentation_formatters.html"  title="Creating Documentation Formatters">Creating Documentation Formatters</a>
</li>
                  
                      <li>      <a href="creating_validators.html"  title="Creating Validators">Creating Validators</a>
</li>
                  
                      <li>      <a href="calling_from_app.html"  title="Calling hyphenType from your application">Calling hyphenType from your application</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">References <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li class="dropdown-submenu">
                                      <a href="examples.html"  title="Examples / Cookbook">Examples / Cookbook</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="example_array_option_arg.html"  title="Array as option argument">Array as option argument</a>
</li>
                              </ul>
            </li>
                  
                      <li class="dropdown-submenu">
                                      <a href="tips.html"  title="Tips">Tips</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="tips_welcome_message.html"  title="Welcome Message">Welcome Message</a>
</li>
                              </ul>
            </li>
                  
                      <li>      <a href="faq.html"  title="FAQ">FAQ</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li class="dropdown-submenu">
                                      <a href="project-info.html"  title="Project Information">Project Information</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="index.html"  title="About">About</a>
</li>
                                  <li>      <a href="integration.html"  title="Continuous Integration">Continuous Integration</a>
</li>
                                  <li>      <a href="dependencies.html"  title="Dependencies">Dependencies</a>
</li>
                                  <li>      <a href="issue-tracking.html"  title="Issue Tracking">Issue Tracking</a>
</li>
                                  <li>      <a href="mail-lists.html"  title="Mailing Lists">Mailing Lists</a>
</li>
                                  <li>      <a href="plugin-management.html"  title="Plugin Management">Plugin Management</a>
</li>
                                  <li>      <a href="license.html"  title="Project License">Project License</a>
</li>
                                  <li>      <a href="plugins.html"  title="Project Plugins">Project Plugins</a>
</li>
                                  <li>      <a href="project-summary.html"  title="Project Summary">Project Summary</a>
</li>
                                  <li>      <a href="team-list.html"  title="Project Team">Project Team</a>
</li>
                                  <li>      <a href="source-repository.html"  title="Source Repository">Source Repository</a>
</li>
                              </ul>
            </li>
                  
                      <li class="dropdown-submenu">
                                      <a href="project-reports.html"  title="Project Reports">Project Reports</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="changes-report.html"  title="Changes Report">Changes Report</a>
</li>
                                  <li>      <a href="checkstyle.html"  title="Checkstyle">Checkstyle</a>
</li>
                                  <li>      <a href="cobertura/index.html"  title="Cobertura Test Coverage">Cobertura Test Coverage</a>
</li>
                                  <li>      <a href="apidocs/index.html"  title="JavaDocs">JavaDocs</a>
</li>
                                  <li>      <a href="xref/index.html"  title="Source Xref">Source Xref</a>
</li>
                                  <li>      <a href="surefire-report.html"  title="Surefire Report">Surefire Report</a>
</li>
                                  <li>      <a href="testapidocs/index.html"  title="Test JavaDocs">Test JavaDocs</a>
</li>
                                  <li>      <a href="xref-test/index.html"  title="Test Source Xref">Test Source Xref</a>
</li>
                              </ul>
            </li>
                          </ul>
      </li>
                  </ul>
          
          
          
                   
                      </div>
          
        </div>
      </div>
    </div>
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="index.html" id="bannerLeft">
                                                                                                <img src="images/hyphenType_logo.png"  alt="hyphenType"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="publishDate">Last Published: 2013-09-10</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 0.1</li>
                          <li class="divider">|</li>             <li class="">
                    <a href="index.html" title="Getting started">
        Getting started</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="download_build.html" title="Obtaining JAR">
        Obtaining JAR</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="options_interfaces.html" title="Options Interfaces">
        Options Interfaces</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="anatomy_main_class.html" title="Main Class">
        Main Class</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="using_doc_formatters.html" title="Documentation Formatters">
        Documentation Formatters</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="validators.html" title="Validators">
        Validators</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="unit_testing.html" title="Unit Testing">
        Unit Testing</a>
        </li>
      <li class="divider ">/</li>
        <li class="">hyphenType - </li>
                
                
            
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
            
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                                
      <li>
    
                          <a href="index.html" title="About / Getting started">
          <i class="none"></i>
        About / Getting started</a>
            </li>
                  
      <li>
    
                          <a href="download_build.html" title="Download / Build">
          <i class="none"></i>
        Download / Build</a>
            </li>
                                                                                                                                                                                                                                                      
      <li>
    
                          <a href="basics.html" title="Basics">
          <i class="icon-chevron-down"></i>
        Basics</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="options_interfaces.html" title="Options Interfaces">
          <i class="none"></i>
        Options Interfaces</a>
            </li>
                      
      <li>
    
                          <a href="anatomy_main_class.html" title="Anatomy of a Main Class">
          <i class="none"></i>
        Anatomy of a Main Class</a>
            </li>
                      
      <li>
    
                          <a href="using_doc_formatters.html" title="Using Dcumentation Formatters">
          <i class="none"></i>
        Using Dcumentation Formatters</a>
            </li>
                      
      <li>
    
                          <a href="resource_bundles.html" title="Configuration from resource bundles">
          <i class="none"></i>
        Configuration from resource bundles</a>
            </li>
                      
      <li>
    
                          <a href="validators.html" title="Validators">
          <i class="none"></i>
        Validators</a>
            </li>
                                                                                                    
      <li>
    
                          <a href="exit.html" title="Exit Status Codes">
          <i class="icon-chevron-down"></i>
        Exit Status Codes</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="exit_documenting.html" title="Documentation">
          <i class="none"></i>
        Documentation</a>
            </li>
                      
      <li class="active">
    
            <a href="#"><i class="none"></i>Exceptions</a>
          </li>
              </ul>
        </li>
                      
      <li>
    
                          <a href="unit_testing.html" title="Unit Testing">
          <i class="none"></i>
        Unit Testing</a>
            </li>
                      
      <li>
    
                          <a href="debugging.html" title="Debugging">
          <i class="none"></i>
        Debugging</a>
            </li>
              </ul>
        </li>
                              <li class="nav-header">Advanced topics</li>
                                
      <li>
    
                          <a href="creating_documentation_formatters.html" title="Creating Documentation Formatters">
          <i class="none"></i>
        Creating Documentation Formatters</a>
            </li>
                  
      <li>
    
                          <a href="creating_validators.html" title="Creating Validators">
          <i class="none"></i>
        Creating Validators</a>
            </li>
                  
      <li>
    
                          <a href="calling_from_app.html" title="Calling hyphenType from your application">
          <i class="none"></i>
        Calling hyphenType from your application</a>
            </li>
                              <li class="nav-header">References</li>
                                                                                  
      <li>
    
                          <a href="examples.html" title="Examples / Cookbook">
          <i class="icon-chevron-right"></i>
        Examples / Cookbook</a>
                  </li>
                                                                    
      <li>
    
                          <a href="tips.html" title="Tips">
          <i class="icon-chevron-right"></i>
        Tips</a>
                  </li>
                  
      <li>
    
                          <a href="faq.html" title="FAQ">
          <i class="none"></i>
        FAQ</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                      
      <li>
    
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                                                                                  
      <li>
    
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
            
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="aamm.github.io/hyphenType/" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr class="divider" />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="http://aamm.github.io/hyphenType/" data-size="tall" ></div>

                   <div class="clear"></div>
                   
        
        
        
    <iframe src="http://www.facebook.com/plugins/like.php?href=http://aamm.github.io/hyphenType/&send=false&layout=box_count&show-faces=false&action=like&colorscheme=light"
        scrolling="no" frameborder="0"
        style="border:none; width:48px; height:63px; margin-top: 10px;" ></iframe>
               <div class="clear"></div>
                            <div class="clear"></div>
                                                                                                                   <a href="http://www.gnu.org/licenses/lgpl.html" title="LGPL" class="builtBy">
        <img class="builtBy"  alt="LGPL" src="http://www.gnu.org/graphics/lgplv3-147x51.png"  border="0"  width=""  height="" />
      </a>
                                                                                                    <a href="http://maven.apache.org/" title="Maven" class="builtBy">
        <img class="builtBy"  alt="Maven" src="http://maven.apache.org/images/logos/maven-feather.png"  border="0"  width=""  height="" />
      </a>
                                                                                                    <a href="https://github.com/" title="GitHub" class="builtBy">
        <img class="builtBy"  alt="GitHub" src="http://poweredby.github.com/images/logo.png"  border="0"  width=""  height="" />
      </a>
                                                                                                    <a href="https://gnu.org/gnu30" title="Gnu" class="builtBy">
        <img class="builtBy"  alt="[ Celebrate 30 years of GNU! ]" src="https://static.fsf.org/nosvn/misc/GNU_30th_badge.png"  border="0"  width="150"  height="150" />
      </a>
                                                                                                    <a href="http://inkscape.org/" title="Inkscape" class="builtBy">
        <img class="builtBy"  alt="Inkscape" src="http://inkscape.org/images/inkscape_button.svg"  border="0"  width=""  height="" />
      </a>
                      </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section"><h2>Catching exceptions with exit status codes<a name="Catching_exceptions_with_exit_status_codes"></a></h2><p>It is common that the design of a main class is such that when certain exceptions are found, the application should be simply interrupted. Users should probably get an error message and the operating system should receive a meaningful error code. In such cases, it is reasonable to associate each sort of exception with a certain exit status code. hyphenType provides support for such design.</p><p>It is also possible to implement the visitor design pattern in exit status enumerations. The basic idea is that any exception or error thrown by the main method will be used to select which exit status will be called. Let us take a look at a simple example to make this concept clear. Let us start by the declaration of the status code enumeration:</p><div class="source"><pre class="prettyprint">public enum ExitStatus implements StatusCode {

        @ExitStatusDocumentation(catches = NullPointerException.class)
        A,
        
        @ExitStatusDocumentation(catches = Exception.class)
        B;
        
        @Override
        public void beforeExit(ExitStatusHelper helper) {
            // Not doing anything before exit.
        }
}</pre></div><p>The &quot;catches&quot; property is equivalent to a catch selector in a try-catch block. This property tells hyphenType what to do if any throwable is thrown by the main method. For instance, if the main method throws a NullPointerException, the JVM will be terminated using the status code A (i.e., the operating system will get a status code 0).</p><p>The &quot;catches&quot; property works in a hierarchical manner, just like a catch selector in a try-catch. In oder words, if a subclass of NullPointerException is thrown, A will catch the exception. If the exception thrown is a subclass of Exception but not a subclass of NullPointerException, then A cannot catch the exception, and the exception will be caught by B instead.</p><p>hyphenType will always select the selector that is closer to the exception or error thrown. So for example, if the exception thrown is a subclass of NullPointerException, the selected status will be A, not B.</p><div class="section"><h3>Accessing the exception thrown in the beforeExit method<a name="Accessing_the_exception_thrown_in_the_beforeExit_method"></a></h3><p>The ExitStatusHelper object gives you access to the thrown exception. All you need to do is to call the ExitStatusHelper.throwable() method. The following code shows an example of such call:</p><div class="source"><pre class="prettyprint">@Override
public void beforeExit(ExitStatusHelper helper) {
        helper.throwable().printStackTrace();
}</pre></div></div><div class="section"><h3>Bad practice: two constants catching the same exception class<a name="Bad_practice:_two_constants_catching_the_same_exception_class"></a></h3><p>If two enumeration constants catch the same sort of exception, hyphenType will select the first constant that appears in the Class.getFields() array. Note that, according to the documentation of the Class class, Class.getFields() returns the array of fields in no particular order. Meaning, if you have two enumeration constants catching the same exception, you have no assurance about which enumeration constant will catch the exception.</p><p>Even if you successfully test your application over and over in your environment, there are no assurances that your application will behave the same way when used over another JVM. Don't forget that the JVM is a standard, not a particular implementation.</p><p>You should always avoid this situation in your exit status enumeration. If you do have such a problem in your exit status enumeration, please review the design of your enumeration.</p><p>The following code is a <b>counter</b> example, illustrating this <b>bad practice</b>:</p><div class="source"><pre class="prettyprint">/*
 * Don't do this! You cannot predict which status code
 * will be yielded when a NullPointerException is thrown.
 */
public enum ExitStatus implements StatusCode {

        @ExitStatusDocumentation(catches = NullPointerException.class)
        A,
        
        @ExitStatusDocumentation(catches = NullPointerException.class)
        B;
        
        @Override
        public void beforeExit(ExitStatusHelper helper) {
            // Not doing anything before exit.
        }
}</pre></div></div></div><div class="section"><h2>NonExceptionalExit<a name="NonExceptionalExit"></a></h2><p>What we have discussed so far in this section is all the information a developer needs in order to use hyphenType functions to exit an environment (a JVM or something else). But there are cases in which developers will find a couple of side effects of using hyphenType to exit environments. This is because behind the scenes hyphenType throws a NonExceptionalExit in order to interrupt the execution of methods.</p><p>Throwing NonExceptionalExit exceptions is the way for hyphenType to break the standard execution flow of a method and initiate the actual process to terminate an environment. Although this method is expected to work fine for most applications, it is also reasonable that developers expect no exception catching and no finally block to be executed after any exit() method was called. The following code illustrates such case:</p><div class="source"><pre class="prettyprint">public class MyApp {
    public void main(MyOptions m) {
        try {
            m.exit(1);
            System.out.println(&quot;A&quot;);
        } catch (Exception e) {
            System.out.println(&quot;B&quot;);
        }
    }
}</pre></div><p>The result will be the console printing only &quot;B&quot;. In the code above, the programmer expects neither &quot;A&quot; nor &quot;B&quot; to be printed in the console, but because the exit() method silently throws a NonExceptionalExit, the catch block will trap this exception and will in fact execute the contents of the catch block.</p><p>A solution for this problem is simply ignoring NonExceptionalExit exceptions. The following code illustrates how:</p><div class="source"><pre class="prettyprint">public class MyApp {
    public void main(MyOptions m) {
        try {
            m.exit(1);
            System.out.println(&quot;A&quot;);
        } catch (NonExceptionalExit e) {
        } catch (Exception e) {
            System.out.println(&quot;B&quot;);
        }
    }
}</pre></div><p>NonExceptionalExit is a RuntimeException, therefore methods do not need to explicitly declare they throw this exception.</p></div><div class="section"><h2>Uncaught throwables<a name="Uncaught_throwables"></a></h2><p>What happens when a throwable was thrown but nothing (not even a status code enumeration constant) catches this throwable?</p><p>In this case, hyphenType has no instructions on what to do and will execute the following default procedure:</p><ul><li>Exit the JVM or environment using the status code 0.</li><li>Print the localized message of the throwable to System.err.</li><li>hyphenType will not re-throw the exception. This is to avoid the JVM getting an uncaught exception, which will cause the JVM to print the stack trace of the exception in the user console. We avoid this approach since we believe the end user should not see overly technical information.</li></ul><p>If you are not satisfied with the default behavior presented above, you should not allow an exception go uncaught. As already presented, you can catch exceptions either (1) in your main method or (2) by making at least one of your exit status constants catch the exception.</p><p>The following two source codes illustrate how to make sure no throwable will remain uncaught by catching it in a main method or via an exit status constant, respectively:</p><div class="source"><pre class="prettyprint">public void main(MyOptions opt) {
    try {
        // The main procedure
    }
    catch(Throwable t) {
        // Do something with t
    }
}</pre></div><div class="source"><pre class="prettyprint">@ExitStatusDocumentation(catches = Throwable.class)
UNKNOWN_PROBLEM {
    @Override
    public void beforeExit(ExitStatusHelper helper) {
        // Do something with the throwable, which
        // can be accessed using helper.getThrowable()
    }
};</pre></div><p>It is also possible to force hyphenType to actually throw the exception to the JVM or environment if you are calling hyphentype from your own application, instead of calling hyphenType directly from the command line. For more details, see <a href="#calling_from_app.html">Calling hyphenType from your application</a>}. </p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2013.
          All Rights Reserved.      
            
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
