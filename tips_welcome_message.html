<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Sep 7, 2013 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>hyphenType - </title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20130907" />
    <meta http-equiv="Content-Language" content="en" />
        
  </head>
  <body class="composite">
    <div id="banner">
                  <a href="index.html" id="bannerLeft">
                                                <img src="images/hyphenTypeLogo.png" alt="$alt" />
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2013-09-07</span>
                  &nbsp;| <span id="projectVersion">Version: 0.1</span>
                          |                           <a href="index.html" title="Getting started">Getting started</a>
                &gt;
                              <a href="download_build.html" title="Obtaining JAR">Obtaining JAR</a>
                &gt;
                              <a href="options_interfaces.html" title="Options Interfaces">Options Interfaces</a>
                &gt;
                              <a href="anatomy_main_class.html" title="Main Class">Main Class</a>
                &gt;
                              <a href="using_doc_formatters.html" title="Documentation Formatters">Documentation Formatters</a>
                &gt;
                              <a href="validators.html" title="Validators">Validators</a>
                &gt;
                              <a href="unit_testing.html" title="Unit Testing">Unit Testing</a>
                          </div>
            <div class="xright">        
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="About / Getting started">About / Getting started</a>
            </li>
                  <li class="none">
                          <a href="download_build.html" title="Download / Build">Download / Build</a>
            </li>
                                                                                                                                                                                                                                            <li class="collapsed">
                          <a href="basics.html" title="Basics">Basics</a>
                  </li>
                                                                                                        <li class="collapsed">
                          <a href="advanced_topics.html" title="Advanced Topics">Advanced Topics</a>
                  </li>
                                                                    <li class="collapsed">
                          <a href="examples.html" title="Examples / Cookbook">Examples / Cookbook</a>
                  </li>
                                                                              <li class="expanded">
                          <a href="tips.html" title="Tips">Tips</a>
                    <ul>
                      <li class="none">
            <strong>Welcome Message</strong>
          </li>
              </ul>
        </li>
                  <li class="none">
                          <a href="faq.html" title="FAQ">FAQ</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                        <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                                  <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Welcome message<a name="Welcome_message"></a></h2><p>It is very easy to add a welcome message to a command line interface using hyphenType. The main problem to add a welcome message is that hyphenType may be set to automatically prints error messages as the result of failing validations. If a validator is executed and finds a problem, this validator may print an error message. Also, exit status constants may exit the JVM before the main class has even the chance to execute. For all these reasons, we cannot add a welcome message at the top of the main method. Many things may be printed before the main method will even have the chance to execute.</p><p>Then how get a command line application to print a welcome message before printing anything else?</p><p>The solution is simply to use the CustomizableValidator and to add a rule that prints the welcome message to this validator. In the CustomizableValidator, rules are executed in the order in which they are declared in the &quot;rules&quot; property. The following source code illustrates how to add the CustomizableValidator to an options interface, and how to add the WelcomeMessage validation rule to the CustomizableValidator:</p><div class="source"><pre>@CustomizableValidator(rules = { WelcomeMessage.class, AnotherValidator.class })
public interface MyOptionsInterface extends Options&lt;ExitStatus&gt; {

        @Option
        boolean o();
        
        // Other options ...
}</pre></div><p>In the source code above, AnotherValidator represents a generic rule that checks the options typed by the user and decide whether to proceed or not with the execution of the application. It is important that the WelcomeMessage validation rule is the first in order to make sure that the welcome message is printed before anything else.</p><p>Here is the source code of the WelcomeMessage validator:</p><div class="source"><pre>package my.package;

import java.io.InputStream;

import org.hyphenType.optionprocessors.lib.CustomizableValidatorEngine.Rule;

public class WelcomeMessage implements Rule&lt;CommandLineArguments&gt; {

        @Override
        public void validate(CommandLineArguments option) {
                try {
                        InputStream inputStream = WelcomeMessage.class.
                        getClassLoader().getResourceAsStream(&quot;welcomeMessage.txt&quot;);
                        byte[] buffer = new byte[inputStream.available()];
                        inputStream.read(buffer);
                        System.out.print(new String(buffer));
                }
                catch (Exception e) {
                }
        }
}</pre></div><p>This validator is quite simple. It searches for a text file called welcomeMessage.txt anywhere in the root of the classpath and prints the contents of this file, if the file was found. If anything goes wrong, this validator will simply not print anything.</p><p>This example shows how flexible is the mechanism to execute validators. Another way to add a welcome message is to create your own validator engine that prints the messages, but this solution is a bit more complex, which makes it less interesting for didactic purposes.</p><p>For more details about validators, please refer to <a href="./validators.html">Validators</a>.</p></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">Copyright &#169;                   2013.
          All Rights Reserved.      
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
