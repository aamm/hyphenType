<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at Sep 8, 2013
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20130908" />
    <meta http-equiv="Content-Language" content="en" />
    <title>hyphenType - </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarEnabled">
          
    
    
            
    
        
    <a href="http://github.com/aamm/hyphenType/">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
                

    <div id="topbar" class="navbar navbar-fixed-top navbar-inverse">
      <div class="navbar-inner">
                <div class="container-fluid">
        <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
                
                                                                                <a class="brand" href="index.html"  title="hyphenType">

                                
                                                                                                                    <img src="images/hyphenType_logo_small.png" alt="hyphenType" />
                
                </a>
                    
                                <ul class="nav">
                          <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Overview <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="index.html"  title="About / Getting started">About / Getting started</a>
</li>
                  
                      <li>      <a href="download_build.html"  title="Download / Build">Download / Build</a>
</li>
                  
                      <li class="dropdown-submenu">
                                      <a href="basics.html"  title="Basics">Basics</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="options_interfaces.html"  title="Options Interfaces">Options Interfaces</a>
</li>
                                  <li>      <a href="anatomy_main_class.html"  title="Anatomy of a Main Class">Anatomy of a Main Class</a>
</li>
                                  <li>      <a href="using_doc_formatters.html"  title="Using Dcumentation Formatters">Using Dcumentation Formatters</a>
</li>
                                  <li>      <a href="resource_bundles.html"  title="Configuration from resource bundles">Configuration from resource bundles</a>
</li>
                                  <li>      <a href="validators.html"  title="Validators">Validators</a>
</li>
                                  <li>      <a href="exit.html"  title="Exit Status Codes">Exit Status Codes</a>
</li>
                                  <li>      <a href="unit_testing.html"  title="Unit Testing">Unit Testing</a>
</li>
                                  <li>      <a href="debugging.html"  title="Debugging">Debugging</a>
</li>
                              </ul>
            </li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Advanced topics <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="creating_documentation_formatters.html"  title="Creating Documentation Formatters">Creating Documentation Formatters</a>
</li>
                  
                      <li>      <a href="creating_validators.html"  title="Creating Validators">Creating Validators</a>
</li>
                  
                      <li>      <a href="calling_from_app.html"  title="Calling hyphenType from your application">Calling hyphenType from your application</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">References <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li class="dropdown-submenu">
                                      <a href="examples.html"  title="Examples / Cookbook">Examples / Cookbook</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="example_array_option_arg.html"  title="Array as option argument">Array as option argument</a>
</li>
                              </ul>
            </li>
                  
                      <li class="dropdown-submenu">
                                      <a href="tips.html"  title="Tips">Tips</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="tips_welcome_message.html"  title="Welcome Message">Welcome Message</a>
</li>
                              </ul>
            </li>
                  
                      <li>      <a href="faq.html"  title="FAQ">FAQ</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li class="dropdown-submenu">
                                      <a href="project-info.html"  title="Project Information">Project Information</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="index.html"  title="About">About</a>
</li>
                                  <li>      <a href="integration.html"  title="Continuous Integration">Continuous Integration</a>
</li>
                                  <li>      <a href="dependencies.html"  title="Dependencies">Dependencies</a>
</li>
                                  <li>      <a href="issue-tracking.html"  title="Issue Tracking">Issue Tracking</a>
</li>
                                  <li>      <a href="mail-lists.html"  title="Mailing Lists">Mailing Lists</a>
</li>
                                  <li>      <a href="plugin-management.html"  title="Plugin Management">Plugin Management</a>
</li>
                                  <li>      <a href="license.html"  title="Project License">Project License</a>
</li>
                                  <li>      <a href="plugins.html"  title="Project Plugins">Project Plugins</a>
</li>
                                  <li>      <a href="project-summary.html"  title="Project Summary">Project Summary</a>
</li>
                                  <li>      <a href="team-list.html"  title="Project Team">Project Team</a>
</li>
                                  <li>      <a href="source-repository.html"  title="Source Repository">Source Repository</a>
</li>
                              </ul>
            </li>
                  
                      <li class="dropdown-submenu">
                                      <a href="project-reports.html"  title="Project Reports">Project Reports</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="changes-report.html"  title="Changes Report">Changes Report</a>
</li>
                                  <li>      <a href="checkstyle.html"  title="Checkstyle">Checkstyle</a>
</li>
                                  <li>      <a href="cobertura/index.html"  title="Cobertura Test Coverage">Cobertura Test Coverage</a>
</li>
                                  <li>      <a href="apidocs/index.html"  title="JavaDocs">JavaDocs</a>
</li>
                                  <li>      <a href="xref/index.html"  title="Source Xref">Source Xref</a>
</li>
                                  <li>      <a href="surefire-report.html"  title="Surefire Report">Surefire Report</a>
</li>
                                  <li>      <a href="testapidocs/index.html"  title="Test JavaDocs">Test JavaDocs</a>
</li>
                                  <li>      <a href="xref-test/index.html"  title="Test Source Xref">Test Source Xref</a>
</li>
                              </ul>
            </li>
                          </ul>
      </li>
                  </ul>
          
          
          
                   
                      </div>
          
        </div>
      </div>
    </div>
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="index.html" id="bannerLeft">
                                                                                                <img src="images/hyphenType_logo.png"  alt="hyphenType"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="publishDate">Last Published: 2013-09-08</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 0.1</li>
                          <li class="divider">|</li>             <li class="">
                    <a href="index.html" title="Getting started">
        Getting started</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="download_build.html" title="Obtaining JAR">
        Obtaining JAR</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="options_interfaces.html" title="Options Interfaces">
        Options Interfaces</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="anatomy_main_class.html" title="Main Class">
        Main Class</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="using_doc_formatters.html" title="Documentation Formatters">
        Documentation Formatters</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="validators.html" title="Validators">
        Validators</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="unit_testing.html" title="Unit Testing">
        Unit Testing</a>
        </li>
      <li class="divider ">/</li>
        <li class="">hyphenType - </li>
                
                
            
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
            
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                                
      <li>
    
                          <a href="index.html" title="About / Getting started">
          <i class="none"></i>
        About / Getting started</a>
            </li>
                  
      <li>
    
                          <a href="download_build.html" title="Download / Build">
          <i class="none"></i>
        Download / Build</a>
            </li>
                                                                                                                                                                                                                                                      
      <li>
    
                          <a href="basics.html" title="Basics">
          <i class="icon-chevron-down"></i>
        Basics</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="options_interfaces.html" title="Options Interfaces">
          <i class="none"></i>
        Options Interfaces</a>
            </li>
                      
      <li>
    
                          <a href="anatomy_main_class.html" title="Anatomy of a Main Class">
          <i class="none"></i>
        Anatomy of a Main Class</a>
            </li>
                      
      <li>
    
                          <a href="using_doc_formatters.html" title="Using Dcumentation Formatters">
          <i class="none"></i>
        Using Dcumentation Formatters</a>
            </li>
                      
      <li>
    
                          <a href="resource_bundles.html" title="Configuration from resource bundles">
          <i class="none"></i>
        Configuration from resource bundles</a>
            </li>
                      
      <li>
    
                          <a href="validators.html" title="Validators">
          <i class="none"></i>
        Validators</a>
            </li>
                                                                                              
      <li class="active">
    
            <a href="#"><i class="icon-chevron-down"></i>Exit Status Codes</a>
                  <ul class="nav nav-list">
                      
      <li>
    
                          <a href="exit_documenting.html" title="Documentation">
          <i class="none"></i>
        Documentation</a>
            </li>
                      
      <li>
    
                          <a href="exit_exceptions.html" title="Exceptions">
          <i class="none"></i>
        Exceptions</a>
            </li>
              </ul>
        </li>
                      
      <li>
    
                          <a href="unit_testing.html" title="Unit Testing">
          <i class="none"></i>
        Unit Testing</a>
            </li>
                      
      <li>
    
                          <a href="debugging.html" title="Debugging">
          <i class="none"></i>
        Debugging</a>
            </li>
              </ul>
        </li>
                              <li class="nav-header">Advanced topics</li>
                                
      <li>
    
                          <a href="creating_documentation_formatters.html" title="Creating Documentation Formatters">
          <i class="none"></i>
        Creating Documentation Formatters</a>
            </li>
                  
      <li>
    
                          <a href="creating_validators.html" title="Creating Validators">
          <i class="none"></i>
        Creating Validators</a>
            </li>
                  
      <li>
    
                          <a href="calling_from_app.html" title="Calling hyphenType from your application">
          <i class="none"></i>
        Calling hyphenType from your application</a>
            </li>
                              <li class="nav-header">References</li>
                                                                                  
      <li>
    
                          <a href="examples.html" title="Examples / Cookbook">
          <i class="icon-chevron-right"></i>
        Examples / Cookbook</a>
                  </li>
                                                                    
      <li>
    
                          <a href="tips.html" title="Tips">
          <i class="icon-chevron-right"></i>
        Tips</a>
                  </li>
                  
      <li>
    
                          <a href="faq.html" title="FAQ">
          <i class="none"></i>
        FAQ</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                      
      <li>
    
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                                                                                  
      <li>
    
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
            
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="$sitesearchValue" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr class="divider" />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="http://aamm.github.io/hyphenType/" data-size="tall" ></div>

                   <div class="clear"></div>
                   
        
        
        
    <iframe src="http://www.facebook.com/plugins/like.php?href=http://aamm.github.io/hyphenType/&send=false&layout=box_count&show-faces=false&action=like&colorscheme=light"
        scrolling="no" frameborder="0"
        style="border:none; width:48px; height:63px; margin-top: 10px;" ></iframe>
               <div class="clear"></div>
                            <div class="clear"></div>
                                                                                                                   <a href="http://www.gnu.org/licenses/lgpl.html" title="LGPL" class="builtBy">
        <img class="builtBy"  alt="LGPL" src="http://www.gnu.org/graphics/lgplv3-147x51.png"  border="0"  width=""  height="" />
      </a>
                                                                                                    <a href="http://maven.apache.org/" title="Maven" class="builtBy">
        <img class="builtBy"  alt="Maven" src="http://maven.apache.org/images/logos/maven-feather.png"  border="0"  width=""  height="" />
      </a>
                                                                                                    <a href="https://github.com/" title="GitHub" class="builtBy">
        <img class="builtBy"  alt="GitHub" src="http://poweredby.github.com/images/logo.png"  border="0"  width=""  height="" />
      </a>
                                                                                                    <a href="https://gnu.org/gnu30" title="Gnu" class="builtBy">
        <img class="builtBy"  alt="[ Celebrate 30 years of GNU! ]" src="https://static.fsf.org/nosvn/misc/GNU_30th_badge.png"  border="0"  width="150"  height="150" />
      </a>
                                                                                                    <a href="http://inkscape.org/" title="Inkscape" class="builtBy">
        <img class="builtBy"  alt="Inkscape" src="http://inkscape.org/images/inkscape_button.svg"  border="0"  width=""  height="" />
      </a>
                      </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section"><h2>Exit status codes<a name="Exit_status_codes"></a></h2><p>When an application finishes, it releases a status code. This code is an integer number that can be then read by another process to determine in which conditions the application was terminated. In general, a status code equals to zero means the application was terminated as expected while a status code different from zero means that there was an error in the execution of the application.</p><p>Although this is the standard interpretation of a status code, each program is free to use whatever meaning for status codes. For instace, a program that aims at checking a certain condition to be either true or false may use the status code to give this information to a caller process.</p></div><div class="section"><h2>Status codes in hyphenType<a name="Status_codes_in_hyphenType"></a></h2><p>As we already saw, hyphenType can be used to wrap the execution of stand alone applications using the <a href="./apidocs/org/hyphenType/wrapper/StandAloneAppWrapper.html">StandAloneAppWrapper</a>. So it is natural to expect hyphenType to also provide some help with status codes.</p><p>Any application that uses hyphenType to parse command line arguments can deliver status codes by simply calling the traditional System.exit(statusCode). Everything will work just fine.</p><p>But we already saw that we can use documentation formatters to document how our application should be called. Wouldn't it be nice to have the documentation formatter also documenting the status codes as well? For this to work we need to tell hyphenType what are the status codes and what is the documentation text associated with each status code.</p><p>The following is a source code of an options interface that uses status codes:</p><div class="source"><pre class="prettyprint">package org.hyphenType.tests.exit;

import org.hyphenType.datastructure.Options;
import org.hyphenType.datastructure.annotations.ArgumentsObject;
import org.hyphenType.datastructure.annotations.Option;
import org.hyphenType.datastructure.annotations.SimpleArgument;

@ArgumentsObject(statusCodeEnum = MyExitStatus.class)
public interface MyOptions extends Options&lt;MyExitStatus&gt; {

    @Option
    boolean x();
    
    @SimpleArgument
    String y();
}
</pre></div><p>And here is the source code of MyExitStatus:</p><div class="source"><pre class="prettyprint">package org.hyphenType.tests.exit;

import org.hyphenType.exit.ExitStatusConstant;
import org.hyphenType.exit.ExitStatusHelper;
import org.hyphenType.exit.StatusCode;

public enum MyExitStatus implements StatusCode {

    @ExitStatusConstant(catches=IncompatibleClassChangeError.class, message = &quot;&quot;, userDescription = &quot;&quot;)
    A,
    @ExitStatusConstant(catches=IllegalArgumentException.class, message = &quot;&quot;, userDescription = &quot;&quot;)
    B;

    public int calls = 0;

    @Override
    public void beforeExit(ExitStatusHelper helper) {
        calls++;
        System.out.println(&quot;~~~&gt;&quot; + helper.getThrowable());
    }
}
</pre></div><p>As you can see, MyExitStatus appears twice in the source code of MyOptions.</p><p>First, it appears as the value of the statusCodeEnum property of the <a href="./apidocs/org/hyphenType/datastructure/annotations/ArgumentsObject.html">ArgumentsObject</a> annotation. This property serves for documentation purposes and for the <a href="./apidocs/org/hyphenType/optionprocessors/lib/BooleanValidatorEngine.BooleanValidator.html">BooleanValidator</a>. Whatever status code class you set the statusCodeEnum property to, the documentation will use this class when generating documentation.</p><p>Second, MyExitStatus appears as a generic parameter for the MyOptions interface. This parameter will specify the signature of <a href="./apidocs/org/hyphenType/datastructure/Options.html">Options.exit(T status)</a> as the type T.</p><div class="section"><h3>Why twice?<a name="Why_twice"></a></h3><p>One can make the reasonable question: why do I need to write MyExitStatus twice in the source code of MyOptions? Why not simply setting MyExitStatus as the generic parameter and let hyphenType read this parameter? Having two things that need to be necessarily always equal is not only confusing but also error prone.</p><p>The simple answer is: because this is not possible in Java. This impossibility has to do with the way generics were implemented in Java. Generics are simply a compilation-step check and are not available at runtime. This is called erasure.</p><p>As a result, this information is not available at runtime via reflection. That is why we need this information to be on the annotation, which can be easily read at runtime.</p><p>After resignation to this reality, one may ask why whould happen if one makes a mistake. In other words, what happens if statusCodeEnum is X.class, but my options interface extends Options&lt;Y&gt;, instead of Options&lt;X&gt;. In this case, the documentation and the <a href="./apidocs/org/hyphenType/optionprocessors/lib/BooleanValidatorEngine.BooleanValidator.html">BooleanValidator</a> will only match the reality if X and Y are identical.</p></div><div class="section"><h3>How to generate status codes?<a name="How_to_generate_status_codes"></a></h3><p>While the canonical way to generate status codes in Java is by calling System.exit(statusCode), using hyphenType you need to call opt.exit(statusCode) where opt is the arguments object and statusCode can be either an integer or an enumeration constant.</p></div><div class="section"><h3>What is the actual status code when I use an enumeration constant as the argument to exit?<a name="What_is_the_actual_status_code_when_I_use_an_enumeration_constant_as_the_argument_to_exit"></a></h3><p>Short answer: <b>the ordinal of the enumeration</b>.</p><p>Long answer: As we said before, status codes are always an integer, not a Java object. This is something the operating system is expecting from the running application. This is universal to any programming language and therefore Java needs to adhere to this standard. Whatever the status code your application generates to the JVM, the JVM will re-generate this status code to the operating system. In the example above, opt.exit(A) yields 0, while opt.exit(B) yields 1.</p></div></div><div class="section"><h2>Canonical Exit Code<a name="Canonical_Exit_Code"></a></h2><p>The <a href="./apidocs/org/hyphenType/exit/CanonicalExitCode.html">CanonicalExitCode</a> is the simplest possible exit code enumeration. It has only two constants: SUCCESS (code is 0), and ERROR (code is 1). If you do not choose any exit code in the statusCodeEnum property, hyphenType will assume this to be the exit code by default.</p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2013.
          All Rights Reserved.      
            
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
